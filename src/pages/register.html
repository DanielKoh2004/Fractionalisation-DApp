<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Register â€” RealEstate dApp</title>
<style>
  body{font-family:Inter,Arial;background:#f7fafc;display:flex;align-items:center;justify-content:center;height:100vh;margin:0}
  .card{background:#fff;padding:22px;border-radius:12px;box-shadow:0 8px 30px rgba(10,20,50,0.06);width:380px}
  input{width:100%;padding:10px;margin:8px 0;border-radius:8px;border:1px solid #e2e8f0;box-sizing:border-box;}
  button{width:100%;padding:10px;margin:8px 0;border-radius:8px;border:1px solid #4636e3;background:#4636e3;color:#fff;font-weight:500;box-sizing:border-box;cursor:pointer;transition:background 0.2s;}
  button:hover{background:#0b63ff;}
  .close-btn {
    position:absolute;top:18px;right:18px;width:32px;height:32px;background:#edeaff;border:none;border-radius:50%;font-size:1.3rem;color:#4636e3;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px rgba(70,54,227,0.10);transition:background 0.2s;}
    .close-btn:hover{background:#d7e0ef;color:#0b63ff;}
  a{color:#0b63ff}
</style>
</head>
<body>
<div class="card" style="position:relative;">
  <button class="close-btn" id="closeRegister" title="Close">&times;</button>
  <h2>Create account</h2>
  <input id="name" placeholder="Full name" />
  <input id="email" placeholder="Email" />
  <input id="password" type="password" placeholder="Password" />
  <button id="registerBtn">Register</button>
  <p style="font-size:13px">Already have account? <a href="login.html">Login</a></p>
</div>

<script>
document.getElementById('registerBtn').addEventListener('click', ()=>{
  const name = document.getElementById('name').value.trim();
  const email = document.getElementById('email').value.trim();
  const password = document.getElementById('password').value;
  if (!name||!email||!password) return alert('Complete all fields.');
  const users = JSON.parse(localStorage.getItem('users')||'[]');
  if (users.find(u=>u.email.toLowerCase()===email.toLowerCase())) return alert('Email already used.');
  const id = users.length?Math.max(...users.map(u=>u.id))+1:1;
  const newU = {id,email,password,name,isAdmin:false};
  users.push(newU);
  localStorage.setItem('users', JSON.stringify(users));
  localStorage.setItem('currentUser', JSON.stringify(newU));
  alert('Registered! Redirecting to dashboard.');
  window.location.href = 'dashboard.html';
});

document.getElementById('closeRegister').addEventListener('click', function(){
  window.location.href = 'index.html';
});
</script>
</body>
</html>
